{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyecto sistema de prestamos\\\\prestamos-app-entrega\\\\frontend\\\\src\\\\pages\\\\Historial.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Form, Button, Table, Row, Col, Alert, Spinner, Badge } from 'react-bootstrap';\nimport axios from 'axios';\nimport valesService from '../services/valesService';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Historial = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [vales, setVales] = useState([]);\n  const [locales, setLocales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [mensajeExito, setMensajeExito] = useState(null);\n  const [filtros, setFiltros] = useState({\n    fechaDesde: '',\n    fechaHasta: '',\n    localOrigen: '',\n    localDestino: '',\n    mercaderia: '',\n    estado: ''\n  });\n\n  // Obtener vales y locales al cargar el componente\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Obtener vales\n        const valesResponse = await valesService.obtenerVales();\n        if (valesResponse.success) {\n          setVales(valesResponse.vales);\n        }\n\n        // Obtener locales\n        const localesResponse = await axios.get('/api/usuarios');\n        if (localesResponse.data.success) {\n          setLocales(localesResponse.data.usuarios);\n        }\n        setError(null);\n      } catch (error) {\n        console.error('Error al cargar datos:', error);\n        setError('Error al cargar el historial de vales');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Manejar cambios en los filtros\n  const handleFiltroChange = e => {\n    setFiltros({\n      ...filtros,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Aplicar filtros\n  const aplicarFiltros = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n\n      // Eliminar filtros vacíos\n      const filtrosValidos = Object.fromEntries(Object.entries(filtros).filter(([_, value]) => value !== ''));\n      const response = await valesService.buscarVales(filtrosValidos);\n      if (response.success) {\n        setVales(response.vales);\n        setError(null);\n      } else {\n        setError(response.message || 'Error al buscar vales');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al aplicar filtros:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al buscar vales');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Limpiar filtros\n  const limpiarFiltros = async () => {\n    setFiltros({\n      fechaDesde: '',\n      fechaHasta: '',\n      localOrigen: '',\n      localDestino: '',\n      mercaderia: '',\n      estado: ''\n    });\n    try {\n      setLoading(true);\n      const response = await valesService.obtenerVales();\n      if (response.success) {\n        setVales(response.vales);\n        setError(null);\n      } else {\n        setError(response.message || 'Error al obtener vales');\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error al limpiar filtros:', error);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Error al obtener vales');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Marcar vale como pagado\n  const marcarComoPagado = async valeId => {\n    try {\n      setLoading(true);\n      const response = await valesService.marcarComoPagado(valeId);\n      if (response.success) {\n        // Actualizar la lista de vales\n        const nuevosVales = vales.map(vale => vale.id === valeId ? {\n          ...vale,\n          estado: 'pagado'\n        } : vale);\n        setVales(nuevosVales);\n\n        // Mostrar mensaje de éxito\n        setMensajeExito('Vale marcado como pagado correctamente');\n        setTimeout(() => setMensajeExito(null), 3000);\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Error al marcar vale como pagado');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Exportar a CSV\n  const exportarCSV = () => {\n    valesService.exportarVales();\n  };\n\n  // Obtener nombre de local por ID\n  const getNombreLocal = id => {\n    const local = locales.find(local => local.id === id);\n    return local ? local.nombre : 'Desconocido';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"historial-container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"bg-primary text-white d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-0\",\n          children: \"Historial de Vales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-light\",\n          size: \"sm\",\n          onClick: exportarCSV,\n          children: \"Exportar a CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), mensajeExito && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          children: mensajeExito\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtros-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-3\",\n            children: \"Filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: aplicarFiltros,\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                lg: 3,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Desde\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    name: \"fechaDesde\",\n                    value: filtros.fechaDesde,\n                    onChange: handleFiltroChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                lg: 3,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Hasta\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    name: \"fechaHasta\",\n                    value: filtros.fechaHasta,\n                    onChange: handleFiltroChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                lg: 3,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Local que presta\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"localOrigen\",\n                    value: filtros.localOrigen,\n                    onChange: handleFiltroChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Todos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 23\n                    }, this), locales.map(local => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: local.id,\n                      children: local.nombre\n                    }, local.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                lg: 3,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Local que recibe\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"localDestino\",\n                    value: filtros.localDestino,\n                    onChange: handleFiltroChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Todos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 23\n                    }, this), locales.map(local => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: local.id,\n                      children: local.nombre\n                    }, local.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Mercader\\xEDa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    name: \"mercaderia\",\n                    value: filtros.mercaderia,\n                    onChange: handleFiltroChange,\n                    placeholder: \"Buscar por tipo de mercader\\xEDa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"estado\",\n                    value: filtros.estado,\n                    onChange: handleFiltroChange,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Todos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"pendiente\",\n                      children: \"Pendiente\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"pagado\",\n                      children: \"Pagado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                className: \"mb-3 d-flex align-items-end\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid gap-2 w-100\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    type: \"submit\",\n                    disabled: loading,\n                    children: \"Aplicar Filtros\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"secondary\",\n                    type: \"button\",\n                    onClick: limpiarFiltros,\n                    disabled: loading,\n                    children: \"Limpiar Filtros\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-5\",\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: \"Cargando vales...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this) : vales.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"info\",\n          children: \"No se encontraron vales con los filtros seleccionados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Local que presta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Local que recibe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Persona responsable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Mercader\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: vales.map(vale => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(vale.fecha).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vale.origen_nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vale.destino_nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vale.persona_responsable\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"mb-0\",\n                    children: vale.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: item.descripcion\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vale.estado === 'pagado' ? /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"success\",\n                    children: \"Pagado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"warning\",\n                    children: \"Pendiente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vale.origen_id === (user === null || user === void 0 ? void 0 : user.id) && vale.estado === 'pendiente' && /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    size: \"sm\",\n                    onClick: () => marcarComoPagado(vale.id),\n                    disabled: loading,\n                    children: \"Marcar como pagado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this)]\n              }, vale.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(Historial, \"G6hyczxr5NBn8FyFvkA6Uvch4yo=\", false, function () {\n  return [useAuth];\n});\n_c = Historial;\nexport default Historial;\nvar _c;\n$RefreshReg$(_c, \"Historial\");","map":{"version":3,"names":["React","useState","useEffect","Card","Form","Button","Table","Row","Col","Alert","Spinner","Badge","axios","valesService","useAuth","jsxDEV","_jsxDEV","Historial","_s","user","vales","setVales","locales","setLocales","loading","setLoading","error","setError","mensajeExito","setMensajeExito","filtros","setFiltros","fechaDesde","fechaHasta","localOrigen","localDestino","mercaderia","estado","fetchData","valesResponse","obtenerVales","success","localesResponse","get","data","usuarios","console","handleFiltroChange","e","target","name","value","aplicarFiltros","preventDefault","filtrosValidos","Object","fromEntries","entries","filter","_","response","buscarVales","message","_error$response","_error$response$data","limpiarFiltros","_error$response2","_error$response2$data","marcarComoPagado","valeId","nuevosVales","map","vale","id","setTimeout","_error$response3","_error$response3$data","exportarCSV","exportarVales","getNombreLocal","local","find","nombre","className","children","Header","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","Body","onSubmit","md","lg","Group","Label","Control","type","onChange","Select","placeholder","disabled","animation","length","striped","bordered","hover","Date","fecha","toLocaleDateString","origen_nombre","destino_nombre","persona_responsable","items","item","index","descripcion","bg","origen_id","_c","$RefreshReg$"],"sources":["C:/Proyecto sistema de prestamos/prestamos-app-entrega/frontend/src/pages/Historial.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, Form, Button, Table, Row, Col, Alert, Spinner, Badge } from 'react-bootstrap';\nimport axios from 'axios';\nimport valesService from '../services/valesService';\nimport { useAuth } from '../context/AuthContext';\n\nconst Historial = () => {\n  const { user } = useAuth();\n  const [vales, setVales] = useState([]);\n  const [locales, setLocales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [mensajeExito, setMensajeExito] = useState(null);\n  \n  const [filtros, setFiltros] = useState({\n    fechaDesde: '',\n    fechaHasta: '',\n    localOrigen: '',\n    localDestino: '',\n    mercaderia: '',\n    estado: ''\n  });\n\n  // Obtener vales y locales al cargar el componente\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Obtener vales\n        const valesResponse = await valesService.obtenerVales();\n        if (valesResponse.success) {\n          setVales(valesResponse.vales);\n        }\n        \n        // Obtener locales\n        const localesResponse = await axios.get('/api/usuarios');\n        if (localesResponse.data.success) {\n          setLocales(localesResponse.data.usuarios);\n        }\n        \n        setError(null);\n      } catch (error) {\n        console.error('Error al cargar datos:', error);\n        setError('Error al cargar el historial de vales');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  // Manejar cambios en los filtros\n  const handleFiltroChange = (e) => {\n    setFiltros({\n      ...filtros,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Aplicar filtros\n  const aplicarFiltros = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      \n      // Eliminar filtros vacíos\n      const filtrosValidos = Object.fromEntries(\n        Object.entries(filtros).filter(([_, value]) => value !== '')\n      );\n      \n      const response = await valesService.buscarVales(filtrosValidos);\n      \n      if (response.success) {\n        setVales(response.vales);\n        setError(null);\n      } else {\n        setError(response.message || 'Error al buscar vales');\n      }\n    } catch (error) {\n      console.error('Error al aplicar filtros:', error);\n      setError(error.response?.data?.message || 'Error al buscar vales');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Limpiar filtros\n  const limpiarFiltros = async () => {\n    setFiltros({\n      fechaDesde: '',\n      fechaHasta: '',\n      localOrigen: '',\n      localDestino: '',\n      mercaderia: '',\n      estado: ''\n    });\n    \n    try {\n      setLoading(true);\n      \n      const response = await valesService.obtenerVales();\n      \n      if (response.success) {\n        setVales(response.vales);\n        setError(null);\n      } else {\n        setError(response.message || 'Error al obtener vales');\n      }\n    } catch (error) {\n      console.error('Error al limpiar filtros:', error);\n      setError(error.response?.data?.message || 'Error al obtener vales');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Marcar vale como pagado\n  const marcarComoPagado = async (valeId) => {\n    try {\n      setLoading(true);\n      const response = await valesService.marcarComoPagado(valeId);\n      \n      if (response.success) {\n        // Actualizar la lista de vales\n        const nuevosVales = vales.map(vale => \n          vale.id === valeId ? { ...vale, estado: 'pagado' } : vale\n        );\n        setVales(nuevosVales);\n        \n        // Mostrar mensaje de éxito\n        setMensajeExito('Vale marcado como pagado correctamente');\n        setTimeout(() => setMensajeExito(null), 3000);\n      }\n    } catch (error) {\n      setError(error.response?.data?.message || 'Error al marcar vale como pagado');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Exportar a CSV\n  const exportarCSV = () => {\n    valesService.exportarVales();\n  };\n\n  // Obtener nombre de local por ID\n  const getNombreLocal = (id) => {\n    const local = locales.find(local => local.id === id);\n    return local ? local.nombre : 'Desconocido';\n  };\n\n  return (\n    <div className=\"historial-container\">\n      <Card className=\"mb-4\">\n        <Card.Header className=\"bg-primary text-white d-flex justify-content-between align-items-center\">\n          <h4 className=\"mb-0\">Historial de Vales</h4>\n          <Button \n            variant=\"outline-light\" \n            size=\"sm\"\n            onClick={exportarCSV}\n          >\n            Exportar a CSV\n          </Button>\n        </Card.Header>\n        <Card.Body>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          {mensajeExito && <Alert variant=\"success\">{mensajeExito}</Alert>}\n          \n          <div className=\"filtros-container\">\n            <h5 className=\"mb-3\">Filtros</h5>\n            <Form onSubmit={aplicarFiltros}>\n              <Row>\n                <Col md={6} lg={3} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Desde</Form.Label>\n                    <Form.Control\n                      type=\"date\"\n                      name=\"fechaDesde\"\n                      value={filtros.fechaDesde}\n                      onChange={handleFiltroChange}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={6} lg={3} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Hasta</Form.Label>\n                    <Form.Control\n                      type=\"date\"\n                      name=\"fechaHasta\"\n                      value={filtros.fechaHasta}\n                      onChange={handleFiltroChange}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={6} lg={3} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Local que presta</Form.Label>\n                    <Form.Select\n                      name=\"localOrigen\"\n                      value={filtros.localOrigen}\n                      onChange={handleFiltroChange}\n                    >\n                      <option value=\"\">Todos</option>\n                      {locales.map(local => (\n                        <option key={local.id} value={local.id}>\n                          {local.nombre}\n                        </option>\n                      ))}\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={6} lg={3} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Local que recibe</Form.Label>\n                    <Form.Select\n                      name=\"localDestino\"\n                      value={filtros.localDestino}\n                      onChange={handleFiltroChange}\n                    >\n                      <option value=\"\">Todos</option>\n                      {locales.map(local => (\n                        <option key={local.id} value={local.id}>\n                          {local.nombre}\n                        </option>\n                      ))}\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n              </Row>\n              \n              <Row>\n                <Col md={4} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Mercadería</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"mercaderia\"\n                      value={filtros.mercaderia}\n                      onChange={handleFiltroChange}\n                      placeholder=\"Buscar por tipo de mercadería\"\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={4} className=\"mb-3\">\n                  <Form.Group>\n                    <Form.Label>Estado</Form.Label>\n                    <Form.Select\n                      name=\"estado\"\n                      value={filtros.estado}\n                      onChange={handleFiltroChange}\n                    >\n                      <option value=\"\">Todos</option>\n                      <option value=\"pendiente\">Pendiente</option>\n                      <option value=\"pagado\">Pagado</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={4} className=\"mb-3 d-flex align-items-end\">\n                  <div className=\"d-grid gap-2 w-100\">\n                    <Button \n                      variant=\"primary\" \n                      type=\"submit\"\n                      disabled={loading}\n                    >\n                      Aplicar Filtros\n                    </Button>\n                    <Button \n                      variant=\"secondary\" \n                      type=\"button\"\n                      onClick={limpiarFiltros}\n                      disabled={loading}\n                    >\n                      Limpiar Filtros\n                    </Button>\n                  </div>\n                </Col>\n              </Row>\n            </Form>\n          </div>\n          \n          {loading ? (\n            <div className=\"text-center p-5\">\n              <Spinner animation=\"border\" variant=\"primary\" />\n              <p className=\"mt-2\">Cargando vales...</p>\n            </div>\n          ) : vales.length === 0 ? (\n            <Alert variant=\"info\">\n              No se encontraron vales con los filtros seleccionados\n            </Alert>\n          ) : (\n            <div className=\"table-responsive\">\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>Fecha</th>\n                    <th>Local que presta</th>\n                    <th>Local que recibe</th>\n                    <th>Persona responsable</th>\n                    <th>Mercadería</th>\n                    <th>Estado</th>\n                    <th>Acciones</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {vales.map(vale => (\n                    <tr key={vale.id}>\n                      <td>{new Date(vale.fecha).toLocaleDateString()}</td>\n                      <td>{vale.origen_nombre}</td>\n                      <td>{vale.destino_nombre}</td>\n                      <td>{vale.persona_responsable}</td>\n                      <td>\n                        <ul className=\"mb-0\">\n                          {vale.items.map((item, index) => (\n                            <li key={index}>{item.descripcion}</li>\n                          ))}\n                        </ul>\n                      </td>\n                      <td>\n                        {vale.estado === 'pagado' ? (\n                          <Badge bg=\"success\">Pagado</Badge>\n                        ) : (\n                          <Badge bg=\"warning\">Pendiente</Badge>\n                        )}\n                      </td>\n                      <td>\n                        {vale.origen_id === user?.id && vale.estado === 'pendiente' && (\n                          <Button \n                            variant=\"success\" \n                            size=\"sm\"\n                            onClick={() => marcarComoPagado(vale.id)}\n                            disabled={loading}\n                          >\n                            Marcar como pagado\n                          </Button>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default Historial;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}